<UserControl x:Class="LChess.Views.Contents.ChoiceNotationContentView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="clr-namespace:LChess.Custom.UI.Unit;assembly=LChess.Custom"
             xmlns:cvt="clr-namespace:LChess.Util.Converter;assembly=LChess.Util">

    <UserControl.Resources>

        <Style x:Key="ChoiceNotaionButtonStyle" TargetType="{x:Type ui:LChessButton}">
            <Setter Property="Grid.ColumnSpan" Value="2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Width" Value="400"/>
            <Setter Property="Height" Value="100"/>
            <Setter Property="Margin" Value="15"/>
            <Setter Property="FontSize" Value="40"/>
        </Style>

        <cvt:FileNameToRemoveExtensionConverter x:Key="FileNameToRemoveExtensionConverter"/>

    </UserControl.Resources>

    <Grid Background="SkyBlue">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="1"
                Background="DeepSkyBlue"/>

        <ScrollViewer Grid.ColumnSpan="2"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Center"
                      VerticalScrollBarVisibility="Hidden">
            
            <ItemsControl ItemsSource="{Binding GameHistoryList}">

                <ItemsControl.ItemTemplate>
                    
                    <DataTemplate>
                        
                        <ui:LChessButton Style="{StaticResource ChoiceNotaionButtonStyle}"
                                         Width="850"
                                         Content="{Binding FileName, Converter={StaticResource FileNameToRemoveExtensionConverter}}"
                                         Command="{Binding DataContext.MoveToAnalysisCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                         CommandParameter="{Binding}"/>
                        
                    </DataTemplate>
                    
                </ItemsControl.ItemTemplate>

                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Margin="10"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                
            </ItemsControl>
            
        </ScrollViewer>

        <StackPanel HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Orientation="Horizontal">
            
            <ui:LChessIconButton IconType="Back"
                             Width="50"
                             Height="50"
                             Margin="10"
                             Command="{Binding MoveToHomeCommand}"/>
            
            <ui:LChessIconButton IconType="Load"
                                 Width="50"
                                 Height="50"
                                 Margin="10"
                                 Command="{Binding LoadHistoryCommand}"/>

        </StackPanel>

    </Grid>
    
</UserControl>
